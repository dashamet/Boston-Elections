---
title: "Target Area Recommendations"
author: "Dasha Metropolitansky"
date: "2/26/2020"
output:
  html_document: default
  pdf_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readxl)
```

### Data processing

I created a dataset using the [election data](https://www.boston.gov/departments/elections/state-and-city-election-results) available on the City of Boston website. I included municipal elections from November 2005 to November 2017. I excluded special municipal elections and preliminary municipal elections. I did not include data from the November 2019 municipal election because, as of right now, I only have access to unofficial election data. However, I do compare my findings with the 2019 unofficial results (see the Recommendations section at the end of this document).

The dataset contains 5 variables (columns (ward, precinct, election date, number of registered voters, number of votes cast, number of residents). I calculate a 6th (turnout, defined as number of votes divided by number of registered voters as a percentage). 

```{r message=FALSE, warning=FALSE}
# Reading in and processing the data
data = read_xlsx("elections_data.xlsx") %>% 
  mutate(election = as.character(election),
         num_registered = as.numeric(num_registered),
         num_voters = as.numeric(num_voters),
         num_residents = as.numeric(num_residents),
         turnout = round(num_voters/num_registered*100,2))
```

```{r}
# A preview of the data
head(data)
```

### Finding the lowest turnout areas 

```{r}
# Calculating the lowest turnout wards/precincts from 2005-2017, excluding Ward 1 Precinct 15
lowest_turnout = data %>%
  filter(!(ward == 1 & precinct == 15)) %>% 
  group_by(election) %>%
  top_n(-10, turnout) %>%
  arrange(election, turnout)

# Creating a frequency table for lowest turnout wards/precincts (wards on left, precincts on top)
ftable(lowest_turnout$ward, lowest_turnout$precinct)
```


The following wards/precincts were among the ten wards/precincts with the lowest voter turnout rates in all 7 municipal elections from 2017-2005: 

* Ward 4 Precinct 10 (ranges from 1.03% to 9.17%)
* Ward 21 Precinct 2 (ranges from 0.55% to 4.31%)
* Ward 21 Precinct 3 (ranges from 2.21% to 10.55%)
* Ward 21 Precinct 4 (ranges from 1.93% to 12.80%)
* Ward 21 Precinct 5 (ranges from 3.56% to 15.26%)
* Ward 21 Precinct 8 (ranges from 3.03% to 14.54%)

### Finding the highest turnout areas

```{r}
# Calculating the highest turnout wards/precincts from 2017-2005, excluding Ward 1 Precinct 15
highest_turnout = data %>%
  filter(!(ward == 1 & precinct == 15)) %>% 
  group_by(election) %>%
  top_n(10, turnout) %>%
  arrange(election, turnout)

# Creating a frequency table for lowest turnout wards/precincts (wards on left, precincts on top)
ftable(highest_turnout$ward, highest_turnout$precinct)
```

The following wards/precincts were among the ten wards/precincts with the highest voter turnout rates in all 7 municipal elections from 2017-2005: 

* Ward 16 Precinct 12 (ranges from 39.31% to 73.81%)
* Ward 20 Precinct 14 (ranges from 26.85% to 67.85%)
 
### Recommendations 

Our key target areas should be **Ward 4 Precinct 10, Ward 21 Precinct 2, and Ward 21 Precinct 3** for the low turnout areas & **Ward 16 Precinct 12 and Ward 20 Precinct 14** for the high turnout areas. 

NOTE: I compared the findings above with the [unofficial election results](https://www.boston.gov/sites/default/files/embed/u/unofficial_ward_and_precinct_breakdown_for_november_5_2019_-_updated.pdf) from the November 2019 municipal election. My recommended target areas are consistent with the unofficial turnout numbers: the recommended low turnout areas are among the 5 lowest turnout wards/precincts in 2019 and likewise for the recommended high turnout areas.